(function(){var i=function(b){this.sections=[];this.startingNode=b};i.prototype={heading:false,append:function(b){b.container=this;this.sections.push(b)},asHTML:function(b){var a;a=this.heading;h(a)?(a.tagName.toUpperCase()=="HGROUP"&&(a=a.getElementsByTagName("h"+-j(a))[0]),a=a.textContent||a.innerText||"<i>No text content inside "+a.nodeName+"</i>"):a=""+a;if(b){var e=this.startingNode,c=e.getAttribute("id");if(!c){do c="h5o-"+ ++n;while(o.getElementById(c));e.setAttribute("id",c)}a='<a href="#'+
c+'">'+a+"</a>"}return a+p(this.sections,b)}};var p=function(b,a){for(var c="",d=0;d<b.length;d++)c+="<li>"+b[d].asHTML(a)+"</li>";return c==""?c:"<ol>"+c+"</ol>"},q=function(b){b=b.heading;return h(b)?j(b):1},d,c,f,n,o,r=function(b){if(!h(f[f.length-1]))if(k(b)||l(b))d!=null&&f.push(d),d=b,c=new i(b),d.outline={sections:[c],startingNode:b,asHTML:function(a){return p(this.sections,a)}};else if(d!=null&&h(b)){if(c.heading)if(j(b)>=q(d.outline.sections[d.outline.sections.length-1])){var a=new i(b);
d.outline.sections.push(a);c=a;c.heading=b}else{var a=false,e=c;do{if(j(b)<q(e))a=new i(b),e.append(a),c=a,c.heading=b,a=true;e=e.container}while(!a)}else c.heading=b;f.push(b)}},m=function(b){return function(a){return a&&a.tagName&&RegExp(b,"i").test(a.tagName.toUpperCase())}},l=m("^BLOCKQUOTE|BODY|DETAILS|FIELDSET|FIGURE|TD$"),k=m("^ARTICLE|ASIDE|NAV|SECTION$"),h=m("^H[1-6]|HGROUP$"),j=function(b){var a=b.tagName.toUpperCase();if(a=="HGROUP")for(a=1;a<=6;a++){if(b.getElementsByTagName("H"+a).length>
0)return-a}else return-parseInt(a.substr(1))};HTML5Outline=function(b){n=0;o=b.ownerDocument||window.document;c=d=null;f=[];var a=b;a:for(;a;){r(a);if(a.firstChild){a=a.firstChild;continue a}for(;a;){var e=a,g=f[f.length-1];if(h(g))g==e&&f.pop();else{if((k(e)||l(e))&&!c.heading)c.heading="<i>Untitled "+e.tagName.toUpperCase()+"</i>";if(k(e)&&f.length>0){d=f.pop();c=d.outline.sections[d.outline.sections.length-1];for(g=0;g<e.outline.sections.length;g++)c.append(e.outline.sections[g])}else if(l(e)&&
f.length>0){d=f.pop();for(c=d.outline.sections[d.outline.sections.length-1];c.sections.length>0;)c=c.sections[c.sections.length-1]}else if(k(e)||l(e))c=d.outline.sections[0]}if(a.nextSibling){a=a.nextSibling;continue a}a=a==b?null:a.parentNode}}return d!=null?d.outline:null}})();
